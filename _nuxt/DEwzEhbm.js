import{_ as R}from"./KewPe7iF.js";import{_ as j,N as z,o as N,e as V,g as G,v as $,z as d,A as c,t as J,x as t,B as i}from"./DeJUvkL0.js";import{T as K,W as Q,a as X,L as Y,S as Z,C as ee,O as te,b as ne,P as ae,M as ie}from"./CZIR_oW1.js";import{T as oe}from"./6Cv_2f0H.js";import{s as re}from"./B9UaOuIL.js";const se={style:{position:"fixed",width:"100%",height:"100vh"}},le={id:"slider"},de={class:"slider-inner"},ue={id:"slider-content"},me={id:"slide-title"},ce={"data-slide-title":"0"},ge={"data-slide-title":"1"},pe={"data-slide-title":"2"},fe={"data-slide-title":"3"},ve={__name:"index",setup(we){return z().beforeEach((y,e,a)=>{(e.path==="/"||e.path==="/ru/")&&localStorage.setItem("cameFromHome","true"),a()}),N(()=>{console.log(imagesLoaded),console.log(K),console.log(TweenMax);const y=function(e){let a=`
            varying vec2 vUv;
            void main() {
              vUv = uv;
              gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
            }
        `,g=`
            varying vec2 vUv;
            uniform sampler2D currentImage;
            uniform sampler2D nextImage;
            uniform float dispFactor;

            void main() {
                vec2 uv = vUv;
                vec4 _currentImage;
                vec4 _nextImage;
                float intensity = 0.3;

                vec4 orig1 = texture2D(currentImage, uv);
                vec4 orig2 = texture2D(nextImage, uv);

                _currentImage = texture2D(currentImage, vec2(uv.x, uv.y + dispFactor * (orig2 * intensity)));
                _nextImage = texture2D(nextImage, vec2(uv.x, uv.y + (1.0 - dispFactor) * (orig1 * intensity)));
                vec4 finalTexture = mix(_currentImage, _nextImage, dispFactor);
                gl_FragColor = finalTexture;
            }
        `,q=e.images,p,f=[],b=1920,O=1080,_=e.parent,v=Math.max(document.documentElement.clientWidth,window.innerWidth||0),S=Math.max(document.documentElement.clientHeight,window.innerHeight||0),I=v>b?v:b,T=O,o=new Q({antialias:!1});o.setPixelRatio(window.devicePixelRatio),o.setClearColor(2303786,1),o.setSize(I,T),_.appendChild(o.domElement);let h=new X;h.crossOrigin="anonymous",q.forEach(n=>{p=h.load(n.getAttribute("src")+"?v="+Date.now()),p.magFilter=p.minFilter=Y,p.anisotropy=o.capabilities.getMaxAnisotropy(),f.push(p)});let u=new Z;u.background=new ee(0);let L=new te(v/-2,v/2,S/2,S/-2,1,1e3);L.position.z=1;let r=new ne({uniforms:{dispFactor:{type:"f",value:0},currentImage:{type:"t",value:f[0]},nextImage:{type:"t",value:f[1]}},vertexShader:a,fragmentShader:g,transparent:!0,opacity:1}),D=new ae(_.offsetWidth,_.offsetHeight,1),E=new ie(D,r);E.position.set(0,0,0),u.add(E);const P=()=>{for(;u.children.length>0;){const n=u.children.pop();n.geometry&&n.geometry.dispose(),n.material&&n.material.dispose(),u.remove(n)}o.dispose()};(function(){let n=Array.from(document.getElementById("pagination").querySelectorAll("button")),w=0;const m=1.5;let C;const B=s=>{var k,F,M;TweenLite.killTweensOf(r.uniforms.dispFactor),(k=document.getElementById("pagination").querySelector(".active"))==null||k.classList.remove("active"),n[s].classList.add("active"),r.uniforms.nextImage.value=f[s],r.uniforms.nextImage.needsUpdate=!0,TweenLite.to(r.uniforms.dispFactor,m,{value:1,ease:"Power2.easeInOut",onComplete:function(){r.uniforms.currentImage.value=f[s],r.uniforms.currentImage.needsUpdate=!0,r.uniforms.dispFactor.value=0}});let l=document.getElementById("slide-title"),x=document.getElementById("slide-status"),U=((F=document.querySelector(`[data-slide-title="${s}"]`))==null?void 0:F.innerHTML)||"",W=((M=document.querySelector(`[data-slide-status="${s}"]`))==null?void 0:M.innerHTML)||"";TweenLite.killTweensOf(l),TweenLite.killTweensOf(x),TweenLite.fromTo(l,m/2,{autoAlpha:1,y:0},{autoAlpha:0,y:20,ease:"Power2.easeInOut",onComplete:function(){l.innerHTML=U,TweenLite.to(l,m/2,{autoAlpha:1,y:0})}}),TweenLite.fromTo(x,m/2,{autoAlpha:1,y:0},{autoAlpha:0,y:20,ease:"Power2.easeInOut",onComplete:function(){x.innerHTML=W,TweenLite.to(x,m/2,{autoAlpha:1,y:0,delay:.1})}})};n.forEach((s,l)=>{s.addEventListener("click",function(){clearInterval(C),w=l,B(l),H()})});const H=()=>{C=re(()=>{w=(w+1)%n.length,B(w)},(m+1)*1e3)};H()})(),window.addEventListener("resize",function(n){o.setSize(I,T)});let A=function(){requestAnimationFrame(A),o.render(u,L)};return A(),{clearScene:P}};imagesLoaded(document.querySelectorAll("img"),()=>{document.body.classList.remove("loading");const e=document.getElementById("slider"),a=Array.from(e.querySelectorAll("img")),g=y({parent:e,images:a});V(()=>{g.clearScene()})})}),(y,e)=>{const a=G("router-link"),g=R;return J(),$("main",null,[d(g,null,{default:c(()=>[d(oe),t("main",se,[t("div",le,[t("div",de,[t("div",ue,[e[5]||(e[5]=t("div",{class:"meta"},null,-1)),t("h2",me,[d(a,{to:"/works/fontain"},{default:c(()=>e[0]||(e[0]=[i("Amur "),t("br",null,null,-1),i("Leopard")])),_:1})]),t("span",ce,[d(a,{to:"/works/fontain"},{default:c(()=>e[1]||(e[1]=[i("Amur "),t("br",null,null,-1),i("Leopard")])),_:1})]),t("span",ge,[d(a,{to:"/works/fontain2"},{default:c(()=>e[2]||(e[2]=[i("Asiatic "),t("br",null,null,-1),i("Lion")])),_:1})]),t("span",pe,[d(a,{to:"/works/fontain3"},{default:c(()=>e[3]||(e[3]=[i("Siberian "),t("br",null,null,-1),i("Tiger")])),_:1})]),t("span",fe,[d(a,{to:"/works/fontain4"},{default:c(()=>e[4]||(e[4]=[i("Brown "),t("br",null,null,-1),i("Bear")])),_:1})]),e[6]||(e[6]=t("div",{class:"meta"},"Status",-1)),e[7]||(e[7]=t("div",{id:"slide-status"},"Critically Endangered",-1)),e[8]||(e[8]=t("span",{"data-slide-status":"0"},"Critically Endangered",-1)),e[9]||(e[9]=t("span",{"data-slide-status":"1"},"Endangered",-1)),e[10]||(e[10]=t("span",{"data-slide-status":"2"},"Endangered",-1)),e[11]||(e[11]=t("span",{"data-slide-status":"3"},"Least Concern",-1))])]),e[12]||(e[12]=t("img",{src:"https://freight.cargo.site/w/1920/q/94/i/dd903d75de0913e7c67e92c78bc5ac5508a57eefc96e06c1ca29159431dcf4dc/SH02_Release_Close_04_7_5.jpg"},null,-1)),e[13]||(e[13]=t("img",{src:"https://freight.cargo.site/w/1920/q/94/i/538461ab42122e7914a11ec13e697f934b2675068f24556007cc73d67587ba33/SH01_Build_01_7_5.jpg"},null,-1)),e[14]||(e[14]=t("img",{src:"https://freight.cargo.site/w/1500/q/75/i/881c915b4cc9911c0ad0317fd7424ab74b04511d1c18418f1dd6062a25c6da65/SH02_Release_Close_02_7_5.jpg"},null,-1)),e[15]||(e[15]=t("img",{src:"https://freight.cargo.site/w/1920/q/75/i/bd044608d44e4c72ea0bb9fe46ea69fbb00ce8be110452e950343c929dc2d8b5/LSO24_BrainUniverse_07_c2.jpg"},null,-1)),e[16]||(e[16]=t("div",{id:"pagination"},[t("button",{class:"active","data-slide":"0"}),t("button",{"data-slide":"1"}),t("button",{"data-slide":"2"}),t("button",{"data-slide":"3"})],-1))])])]),_:1})])}}},he=j(ve,[["__scopeId","data-v-75aa4a97"]]);export{he as default};
